#!/usr/bin/env bash

set -eu

f="$1" && shift
c="$1" && shift
t=$(mktemp) && function x() { rm -f "$t" ; } && trap "x" EXIT

"$c" "$@" <"$f" >"$t"
cp "$t" "$f"
